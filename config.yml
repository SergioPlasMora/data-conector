# Configuración del Data Connector
# Usa túnel inverso WebSocket para conectar al Gateway

# Conexión al Gateway
gateway:
  # URI WebSocket (via Traefik o directo)
  # uri: "ws://192.99.247.70:8081/ws/connect"  # Producción
  # uri: "ws://gateway.localhost:8888/ws/connect"  # Dev via Traefik
  uri: "ws://localhost:8081/ws/connect" # Dev directo (requiere puerto expuesto)

  # URI gRPC (para modo gRPC) - Puerto 50051 expuesto por Traefik
  grpc_uri: "localhost:50051"
  # grpc_uri: "192.99.247.70:50051"  # Producción

  # Modo de transporte: "websocket" o "grpc"
  transport_mode: "grpc"

# Identificación del tenant
tenant:
  # Si es "auto", se usa el hostname de la máquina
  # Server
  # id: "5de85659-2884-44fa-97fb-307dae79cb7f"
  # 511baf05-5839-4f58-a74e-661262facba8
  # bf935f05-bf2e-4138-bfec-f4baaf99fecc

  id: "511baf05-5839-4f58-a74e-661262facba8"

# Configuración de rendimiento
performance:
  # Número de conexiones WebSocket paralelas al Gateway
  # Más conexiones = Mayor throughput, pero más recursos
  # Recomendado: 1-4 para uso normal, hasta 10 para carga pesada
  parallel_connections: 1

  # Habilitar particiones paralelas para streaming
  # true = calcula particiones óptimas según tamaño (recomendado)
  # false = siempre 1 partición (para pruebas comparativas)
  parallel_partitions: false

  # Tamaño máximo de chunk en filas (afecta memoria y latencia)
  # Valores típicos: 16384 (1MB), 32768 (2MB), 65536 (4MB)
  max_chunk_size: 65536

  # Compresión Arrow IPC para transferencia
  # Opciones: 'lz4' (rápido, ~50% reducción), 'zstd' (mejor ratio), 'none' (sin compresión)
  # NOTA: Apache Arrow en navegador (CDN) NO soporta descompresión LZ4/ZSTD
  # Solo usar compresión si el cliente final soporta descompresión (ej: Python, Java)
  arrow_compression: "none"

  # Timeout de reconexión en segundos
  reconnect_delay: 5

# Logging
logging:
  level: "INFO" # DEBUG, INFO, WARNING, ERROR
